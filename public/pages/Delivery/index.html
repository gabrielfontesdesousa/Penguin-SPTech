<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penguin Dahboard</title>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/Dashboard/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Penguin</title>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/Delivery/style.css">
    <link rel="stylesheet" href="../../css/Delivery/sideBarMenu.css">
    <link rel="stylesheet" href="../../css/Delivery/tabelaContainer.css">
    <link rel="stylesheet" href="../../css/Delivery/headerDelivery.css">
    <link rel="stylesheet" href="../../css/Delivery/">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container-delivery">
        <div class="sidebar-menu">
            <div class="itens-menu">
                <div class="item-menu ">
                    <a href="../Dashboard/"> <img src="../../assets/layers 5.svg" alt=""></a>
                </div>
                <div class="item-menu">
                    <a href="../Expenses/"><img src="../../assets/layers 2.svg" alt=""></a>
                </div>
                <div class="item-menu telaAtual">
                    <a href="../Delivery/"><img src="../../assets/In Transit.svg" alt=""></a>
                </div>
                <div class="item-menu">
                    <a href=""><img src="../../assets/layers 6.svg" alt=""></a>
                </div>
                <div class="item-menu">
                    <a href="../../index.html"><img src="../../assets/exit.svg" alt=""></a>
                </div>
            </div>
        </div>
        <div class="container-principal">

            <div class="container-tabela">
                <div class="sub-container-header">
                    <div class="text-header">
                        <h1>Gerencie suas <span>Despesas</span></h1>
                    </div>
                </div>
                <div class="container-table">
                    <table class="tabela-despesas">
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Data Saida</th>
                                <th>Valor</th>
                                <th>Peso (kg)</th>
                                <th>Pedágio</th>
                                <th>Ajudantes</th>
                                <th>Data</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaFrete">
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                            <tr>
                                <td>Cliente</td>
                                <td>Data Saida</td>
                                <td>Valor</td>
                                <td>Peso (kg)</td>
                                <td>Pedágio</td>
                                <td>Ajudantes</td>
                                <td>19/01/2026</td>
                                <td>Status</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-formulario">
                <div class="header-formulario">
                    <h2>Adicione <span>Despesas</span> no seu planejamento aqui</h2>
                    <p>Selecione o caminhão que deseja editar na tabela acima clicando no desejado, caso queira
                        adicionar, preencha os campos e clique em "Adicionar".</p>
                </div>
        
                <div class="form-fretes">
                    <div class="campo-form">
                        <label>Cliente</label>
                        <input type="text" id="categoriaInput" placeholder="EX: 4 KM/Litro">
                    </div>
                    <div class="campo-form">
                        <label>Data Saida</label>
                        <input type="text" id="valorInput" placeholder="EX: 357.000KM">
                    </div>
                    <div class="campo-form">
                        <label>Valor</label>
                        <input type="text" id="dataInput" placeholder="EX: 60.000">
                    </div>
                    <div class="campo-form">
                        <label>Peso(kg) </label>
                        <input type="text" id="descricaoInput" placeholder="EX: Jantar">
                    </div>
                    <div class="campo-form">
                        <label>Pedágio</label>
                        <input type="text" id="dataInput" placeholder="EX: 60.000">
                    </div>
                    <div class="campo-form">
                        <label>Ajudantes </label>
                        <input type="text" id="descricaoInput" placeholder="EX: Jantar">
                    </div>
                    <div class="campo-form">
                        <label>Data</label>
                        <input type="text" id="dataInput" placeholder="EX: 60.000">
                    </div>
                    <div class="campo-form">
                        <label>Status </label>
                        <input type="text" id="descricaoInput" placeholder="EX: Jantar">
                    </div>
                    <div class="botoes-form">
                        <button class="btn-remover">Remover</button>
                        <button class="btn-editar">Editar</button>
                        <button class="btn-adicionar">Adicionar</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

</body>
<script>
    function preencherTabelaFretes() {
        var email = sessionStorage.getItem("EMAIL_DO_LOGADO")
        fetch('/fretes/consultar', {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body:
                JSON.stringify({
                    emailServer: email
                })
        })
            .then(function (resposta) {
                resposta.json()
                    .then(function (respostaConversao) {
                        console.log(respostaConversao)
                        tabelaFrete.innerHTML = ``
                        for (let i = 0; i < respostaConversao.length; i++) {
                            tabelaFrete.innerHTML += `
                            <tr>
                                <td>${respostaConversao[i].CLIENTE}</td>
                                <td>${respostaConversao[i].DT_SAIDA}</td>
                                <td>${respostaConversao[i].VALOR}</td>
                                <td>${respostaConversao[i].PESO_KG}</td>
                                <td>${respostaConversao[i].VALOR_PEDAGIO}</td>
                                <td>${respostaConversao[i].QTD_AJUDANTE}</td>
                                <td>${respostaConversao[i].DT_CONCLUSAO}</td>
                                <td>${respostaConversao[i].STATUS_FRETES}</td>

                            </tr>
                            `;
                        }
                    }).catch(function (erroConversao) {
                        console.log(erroConversao)
                    })
            }).catch(function (erro) {
                console.log(erro)
            })
    }
    function preencherFormulario(categoria, valor, data, descricao, id) {
        document.getElementById("categoriaInput").value = categoria;
        document.getElementById("valorInput").value = valor;
        document.getElementById("dataInput").value = data;
        document.getElementById("descricaoInput").value = descricao;
        sessionStorage.setItem("ID_DESPESA_EDITAR", id);
    }
    window.onload =
        preencherTabelaFretes

</script>

</html>

</html>